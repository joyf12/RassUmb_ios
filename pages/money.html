<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" type="text/css" href="../css/iconfont.css"/>
		<link rel="stylesheet" type="text/css" href="../css/money.css"/>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
		    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
		    <h1 class="mui-title">充值</h1>
		</header>
		<div class="mui-content">
		    <div>
		    	<p>请选择您要充值的金额</p>
				 <div class="mui-row" id="con">
			        <div class="mui-col-sm-6 mui-col-xs-6">
			            <li class="mui-table-view-cell">
			                <span>100</span>
			            </li>
			        </div>
			        <div class="mui-col-sm-6 mui-col-xs-6">
			            <li class="mui-table-view-cell">
			                <span>50</span>
			            </li>
			        </div>
			        <div class="mui-col-sm-6 mui-col-xs-6">
			            <li class="mui-table-view-cell">
			                <span>30</span>
			            </li>
			        </div>
			        <div class="mui-col-sm-6 mui-col-xs-6">
			            <li class="mui-table-view-cell">
			                <span>20</span>
			            </li>
			        </div>
			        <div class="mui-col-sm-6 mui-col-xs-6">
			            <li class="mui-table-view-cell">
			                <span>10</span>
			            </li>
			        </div>
			        <div class="mui-col-sm-6 mui-col-xs-6">
			            <li class="mui-table-view-cell">
			                <span>5</span>
			            </li>
			        </div>
			    </div>
			</div>
			<ul id="list">
				<li>
					<span><i class="mui-icon iconfont icon-zhifubao"></i> 支付宝</span>
					<input type="radio" name="mode" value="1" />
				</li>
				<li>
					<span><i class="mui-icon iconfont icon-weixinzhifu"></i> 微信</span>
					<input type="radio" name="mode" value="2"/>
				</li>
				<li>
					<span>第三方支付</span>
					<input type="radio" name="mode" value="3"/>
				</li>
			</ul>
			<button type="button" class="mui-button mui-btn-primary" id="btn">立即充值</button>
		</div>
		<script src="../js/mui.min.js"></script>
		<script type="text/javascript">
			mui.init();
			mui.plusReady(function(){
				//获取支付通道(所有的支付方式)
				plus.payment.getChannels(function(channels){
					for(var i in channels){
						if(channels[i].id=='wxpay'){
							wxChannel=channels[i];
						}else{
							aliChannel=channels[i];
						}
					}
				},function(e){
					alert('获取支付通道失败：'+e.message);
				})
			});
			var state = '';//充值方式
			var wxChannel = null;//微信支付
			var aliChannel = null;//支付宝支付
			//充值金额
			document.getElementById('con').addEventListener('tap',function(e){
				var ss = document.getElementsByTagName('span');
				for(var i=0;i<ss.length;i++){
					ss[i].classList.remove('active');
				}
				if(e.target.tagName=='SPAN'){
					e.target.classList.add('active');
				}
			})
			//充值方式
			document.getElementById('list').addEventListener('tap',function(e){
				console.log(e.target.value)
				state = e.target.value;
			})
			//充值
			document.getElementById('btn').addEventListener('tap',function(){
				//获取充值金额
				var val = document.getElementsByClassName('active')[0].innerText;
				
				if(!val){
					mui.toast('您还没有选择充值金额');
				}else{
					if(!state){
						mui.toast('您还未选择充值方式');
					}else{
						
					}
				}
			})
		</script>
	</body>

</html>